- [在Chrome中调试](#在chrome中调试)
  - [“资源（Sources）”面板](#资源sources面板)
- [控制台（Console）](#控制台console)
- [断点（Breakpoints）](#断点breakpoints)
  - [Debugger 命令](#debugger-命令)
  - [暂停并查看](#暂停并查看)
  - [日志记录](#日志记录)
- [代码风格](#代码风格)
  - [函数位置](#函数位置)
- [使用 Mocha 进行自动化测试](#使用-mocha-进行自动化测试)

### 在Chrome中调试
#### “资源（Sources）”面板
* 使用快捷键 F12（Mac：Cmd+Opt+I）打开开发者工具。
* 选择 Sources（资源） 面板。
  ![](https://raw.githubusercontent.com/WhiteDragon96/ImgCloud/main/data/imgWhite_2021-04-08_20-55-01.png)

资源（Sources）面板包含三个部分：

1. 文件导航（File Navigator） 区域列出了 HTML、JavaScript、CSS 和包括图片在内的其他依附于此页面的文件。Chrome 扩展程序也会显示在这。
2. 代码编辑（Code Editor） 区域展示源码。
3. JavaScript 调试（JavaScript Debugging） 区域是用于调试的
   
### 控制台（Console）
我们可以输入一些命令然后按下 Enter 来执行。语句执行完毕之后，其执行结果会显示在下面。

 例如，1+2 将会返回 3，hello("debugger") 函数什么也不返回，因此结果是 undefined：
 ![](https://raw.githubusercontent.com/WhiteDragon96/ImgCloud/main/data/img20210408210225.png)

### 断点（Breakpoints）
![](https://raw.githubusercontent.com/WhiteDragon96/ImgCloud/main/data/img20210409091818.png)

断点 是调试器会自动暂停 JavaScript 执行的地方。
#### Debugger 命令
我们也可以使用 debugger 命令来暂停代码，像这样：
  ```javaScript
    function hello(name) {
        let phrase = `Hello, ${name}!`;

        debugger;  // <-- 调试器会在这停止

        say(phrase);
    }
  ```
#### 暂停并查看
![](https://raw.githubusercontent.com/WhiteDragon96/ImgCloud/main/data/img20210409092851.png)
1. 察看（Watch） —— 显示任意表达式的当前值。 </br>
    你可以点击加号 + 然后输入一个表达式。调试器将随时显示它的值，并在执行过程中自动重新计算该表达式。
2. 调用栈（Call Stack） —— 显示嵌套的调用链。 </br>
    此时，调试器正在 hello() 的调用链中，被 index.html 中的一个脚本调用（这里没有函数，因此显示 “anonymous”）
3. 作用域（Scope） —— 显示当前的变量。</br>
    local 显示当前函数中的变量，你还可以在源代码中看到它们的值高亮显示了出来。</br>
    Global 显示全局变量（不在任何函数中）。
#### 日志记录
  ```JavaScript
    // 打开控制台来查看
for (let i = 0; i < 5; i++) {
    console.log("value", i);
}
  ```

### 代码风格

![](https://raw.githubusercontent.com/WhiteDragon96/ImgCloud/main/data/img20210409181905.png)

#### 函数位置
1. 在调用这些函数的代码的 上方 声明这些函数：
  ```JavaScript
      // 函数声明
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}

// 调用函数的代码
let elem = createElement();
setHandler(elem);
walkAround();
  ```
2. 先写调用代码，再写函数
   
  ```JavaScript
        // 调用函数的代码
    let elem = createElement();
    setHandler(elem);
    walkAround();

    // --- 辅助函数 ---
    function createElement() {
      ...
    }

    function setHandler(elem) {
      ...
    }

    function walkAround() {
      ...
    }
  ```

### [使用 Mocha 进行自动化测试](https://zh.javascript.info/testing-mocha)

